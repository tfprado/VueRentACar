<div class="container">

    <div class="form-sec">

        <h4>Login form</h4>

        <form id="login" name="login" action="http://localhost:8080/api/october">

            <div class="form-group">
                <label>Name:</label>
                <input type="text" class="form-control" id="username" placeholder="Enter Name" name="username">
                {{ errors.first('name') }}
            </div>

            <div class="form-group">
                <label>Password:</label>
                <input type="password" class="form-control" id="password" placeholder="Password" name="password">
            </div>

            <button type="submit" class="btn btn-default" onclick="sendForm()">Submit</button>

            <ul>
                {% for error in errors.all() %}
                <li>{{error}}</li>
                {% endfor %}
            </ul>


        </form>

    </div>
    <p id="success" class="" role="alert"></p>
    <p id="fail" class="" role="alert"></p>
</div>

<script>
    function sendForm() {
        $('#login').submit(function () {
            $.post($(this).attr('action'), $(this).serialize(), function (json) {
                response = JSON.stringify(json, null, 4);
                //alert(str);
                if (json.message == "user found!") {
                    document.getElementById("success").className = "alert alert-success";
                    document.getElementById("success").innerHTML = json.message;
                }
                else {
                    document.getElementById("fail").className = "alert alert-danger";
                    document.getElementById("fail").innerHTML = json.message;
                }
            }, 'json');
            return false;
        });
    }
</script>
